import sequtils
import sets
import tables

const FACES* = 32
const TRIS* = 20
const SUMMANDS* = 3
const MIN_SUM* = 6
const MAX_SUM* = 24
const SUMS* = 19
const MIN_V* = 1
const MAX_V* = 9

const
  adjTable*: Table[int, seq[int]] = {
    0: @[1, 2, 3, 4, 5],
    1: @[0, 6, 19],
    2: @[0, 6, 10],
    3: @[0, 10, 13],
    4: @[0, 13, 16],
    5: @[0, 16, 19],
    6: @[1, 2, 7, 8, 9],
    7: @[6, 19, 21],
    8: @[6, 21, 25],
    9: @[6, 10, 25],
    10: @[2, 3, 9, 11, 12],
    11: @[10, 25, 26],
    12: @[10, 13, 26],
    13: @[3, 4, 12, 14, 15],
    14: @[13, 26, 28],
    15: @[13, 16, 28],
    16: @[4, 5, 15, 17, 18],
    17: @[16, 28, 30],
    18: @[16, 19, 30],
    19: @[1, 5, 7, 18, 20],
    20: @[19, 21, 30],
    21: @[7, 8, 20, 22, 23],
    22: @[21, 30, 31],
    23: @[21, 25, 31],
    24: @[25, 26, 31],
    25: @[8, 9, 11, 23, 24],
    26: @[11, 12, 14, 24, 27],
    27: @[26, 28, 31],
    28: @[14, 15, 17, 27, 29],
    29: @[28, 30, 31],
    30: @[17, 18, 20, 22, 29],
    31: @[22, 23, 24, 27, 29]
  }.toTable

  # Only rule that needs opposites needs pentagons
  oppTable*: Table[int, int] = {
    0: 31,
    6: 28,
    10: 30,
    13: 21,
    16: 25,
    19: 26,
    21: 13,
    25: 16,
    26: 19,
    28: 6,
    30: 10,
    31: 0
  }.toTable

  pents*: seq[int] = [0, 6, 10, 13, 16, 19, 21, 25, 26, 28, 30, 31].toSeq
  tris*: seq[int] = [1, 2, 3, 4, 5, 7, 8, 9, 11, 12, 14, 15, 17, 18, 20, 22, 23, 24, 27, 29].toSeq
  triSet* = tris.toHashSet
